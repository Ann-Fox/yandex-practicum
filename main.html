<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p>
        Дополнить коммит новыми файлами — git commit --amend --no-edit
Представьте, что делаете небольшой сайт и для этого создали файл-страницу main.html, а также файл со стилями common.css.
$ touch main.html
$ touch common.css
# дальше отредактировали оба файла 
    </p>
    <p>
        В какой-то момент вы забыли о файле common.css и добавили в коммит только main.html.
$ git add main.html
$ git commit -m "Добавить главную страницу"
$ git log --oneline
777fec3 Добавить главную страницу 
    </p>
    <p>
        Файл common.css так и остался «висеть» в untracked. В этом легко убедиться, если вызвать git status.
$ git status
On branch main
Untracked files:
  (use "git add <file>..." to include in what will be committed)
          common.css

nothing added to commit but untracked files present (use "git add" to track) 
Дополните последний
    </p>
    <p>
        Дополните последний коммит забытым файлом common.css с помощью опции --amend.
$ git add common.css
# добавили файл common.css в список на коммит как обычно

# но вместо команды commit -m '...'
# будет:
$ git commit --amend --no-edit

$ git log --oneline
8340eb2 Добавить главную страницу
# коммит в истории всё ещё один (но у него новый хеш) 
    </p>
<p>
    С опцией --amend команда commit не создаст новый коммит, а дополнит последний, просто добавив в него файл common.css. При этом хеш последнего коммита изменится, потому что изменился список файлов в коммите.
Обратите внимание на опцию --no-edit. Она сообщает команде commit, что сообщение коммита нужно оставить как было.
Точно так же можно добавить не новый файл, а дополнительные изменения в уже добавленном в коммит файле.
# ещё раз отредактировали main.html

$ git add main.html # добавили в список на коммит
$ git commit --amend --no-edit 
</p>
</body>
</html>